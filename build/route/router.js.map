{"version":3,"sources":["../../server/route/router.js"],"names":["router","express","Router","route","post","userValidator","signUp","userController","get","signIn","authToken","checkAdmin","tripController","createTrip","patch","updateTrip","allTrips","tripValidator","createBus","bookingController","seatBooking","deleteBooking","allBookings","usersBookings"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAGA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf,C,CAEA;;;AACAF,MAAM,CAACG,KAAP,CAAa,cAAb,EACGC,IADH,CACQC,2BAAcC,MADtB,EAC8BC,2BAAeD,MAD7C;AAEAN,MAAM,CAACG,KAAP,CAAa,cAAb,EACGK,GADH,CACOH,2BAAcI,MADrB,EAC6BF,2BAAeE,MAD5C,E,CAGA;;AACAT,MAAM,CAACG,KAAP,CAAa,eAAb,EACGC,IADH,CACQM,iCADR,EACmBC,sBADnB,EAC+BC,2BAAeC,UAD9C;AAEAb,MAAM,CAACG,KAAP,CAAa,gBAAb,EACGW,KADH,CACSJ,iCADT,EACoBE,2BAAeG,UADnC;AAGAf,MAAM,CAACG,KAAP,CAAa,QAAb,EACGK,GADH,CACOE,iCADP,EACkBC,sBADlB,EAC8BC,2BAAeI,QAD7C,E,CAGA;;AACAhB,MAAM,CAACG,KAAP,CAAa,MAAb,EACGC,IADH,CACQM,iCADR,EACmBC,sBADnB,EAC+BM,2BAAcC,SAD7C,EACwDN,2BAAeM,SADvE;AAEAlB,MAAM,CAACG,KAAP,CAAa,aAAb,EACGK,GADH,CACOE,iCADP,EACkBE,2BAAeM,SADjC,E,CAGA;;AACAlB,MAAM,CAACG,KAAP,CAAa,mBAAb,EACGC,IADH,CACQM,iCADR,EACmBS,+BAAkBC,WADrC;AAEApB,MAAM,CAACG,KAAP,CAAa,sBAAb,YACUO,iCADV,EACqBS,+BAAkBE,aADvC;AAEErB,MAAM,CAACG,KAAP,CAAa,WAAb,EACCK,GADD,CACKE,iCADL,EACgBC,sBADhB,EAC4BC,2BAAeU,WAD3C;AAEAtB,MAAM,CAACG,KAAP,CAAa,gBAAb,EACCK,GADD,CACKE,iCADL,EACgBE,2BAAeW,aAD/B;eAGavB,M","sourcesContent":["import express from 'express';\r\nimport userController from '../controller/userController';\r\nimport tripController from '../controller/tripController';\r\nimport bookingController from '../controller/bookSeatController';\r\nimport userValidator from '../middleware/userValidation';\r\nimport tripValidator from '../middleware/tripValidation';\r\nimport authToken from '../middleware/tokenAuthentification';\r\nimport checkAdmin from '../middleware/checkAdmin';\r\n\r\n\r\nconst router = express.Router();\r\n\r\n//User Route\r\nrouter.route('/auth/signup')\r\n  .post(userValidator.signUp, userController.signUp)\r\nrouter.route('/auth/signin')\r\n  .get(userValidator.signIn, userController.signIn)\r\n\r\n//Trip Route\r\nrouter.route('/trips/:busId')\r\n  .post(authToken, checkAdmin, tripController.createTrip)\r\nrouter.route('/trips/:tripId')\r\n  .patch(authToken, tripController.updateTrip)\r\n\r\nrouter.route('/trips')\r\n  .get(authToken, checkAdmin, tripController.allTrips);\r\n\r\n// Bus Route\r\nrouter.route('/bus')\r\n  .post(authToken, checkAdmin, tripValidator.createBus, tripController.createBus)\r\nrouter.route('/bus/:busId')\r\n  .get(authToken, tripController.createBus)\r\n\r\n// Bookings Route\r\nrouter.route('/bookings/:tripId')\r\n  .post(authToken, bookingController.seatBooking)\r\nrouter.route('/bookings/:bookingId')\r\n  .delete(authToken, bookingController.deleteBooking);\r\n  router.route('/bookings')\r\n  .get(authToken, checkAdmin, tripController.allBookings)\r\n  router.route('/bookings/user')\r\n  .get(authToken, tripController.usersBookings)\r\n\r\nexport default router;"],"file":"router.js"}